<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Кубическая мешанина</title>
	<link rel="icon" href="icon.png" type="image/png">
	<link rel="stylesheet" href="style.css">
</head>
<body oncontextmenu="return false;">
    <!-- Экран загрузки -->
    <div class="loading-screen" id="loading-screen">
        <div class="loading-spinner"></div>
    </div>
	
    <!-- Индикатор показа рекламы -->
    <div class="ad-indicator" id="ad-indicator">Реклама</div>

    <div class="game-container">        
		<!-- Основной контейнер с игровым полем и кнопками -->
		<div class="main-game-area">
			<div class="board" id="board"></div>
			<div class="mobile-controls">
				<div class="col-3 d-grid gap-2">
					<button class="mobile-btn rotate-btn">↻</button>
				</div>
				<div class="col-3 d-grid gap-2">
					<button class="mobile-btn left-btn">←</button>
				</div>
				<div class="col-3 d-grid gap-2">
					<button class="mobile-btn down-btn">↓</button>
				</div>
				<div class="col-3 d-grid gap-2">
					<button class="mobile-btn right-btn">→</button>
				</div>
			</div>
		</div>
		<!-- Боковая панель для показа следующей фигуры, статистики, кнопок -->
		<div class="side-panel">
            <div class="next-piece">
                <h2 id="next-piece-title">Следующая</h2>
                <div class="next-board" id="next-board"></div>
				<button id="start-button">Начать игру</button>
                <button id="stats-button" style="margin-top: 5px;">Статистика</button>
            </div>
            
            <div class="stats">
                <h2 id="stats-title">Статистика</h2>
                <div class="stat">
                    <span id="score-label">Очки:</span>
                    <span id="score"></span>
                </div>
                <div class="stat">
                    <span id="level-label">Уровень:</span>
                    <span id="level"></span>
                </div>
                <div class="stat">
                    <span id="lines-label">Линии:</span>
                    <span id="lines"></span>
                </div>
				<div class="stat">
                    <span id="revivals-label">Возрождений:</span>
                    <span id="revivals"></span>
                </div>
				<button id="pause-button">Пауза</button>
            </div>
            <div class="controls">
                <h2 id="controls-title">Управление</h2>
                <div class="control-item" id="control-move">← → : Движение</div>
                <div class="control-item" id="control-rotate">↑ : Поворот</div>
                <div class="control-item" id="control-down">↓ : Ускорение</div>
                <div class="control-item" id="control-pause">Пробел : Пауза</div>
            </div>
        </div>
    </div>
    
    <div class="game-over" id="game-over">
        <h1 id="game-over-title">Игра окончена!</h1>
        <div><span id="final-score-text">Ваш счет: </span><span id="final-score">0</span></div>
        <div class="game-over-buttons">
            <button id="revive-button" class="revive-button">Возродиться</button>
            <button id="new-game-button" class="new-game-button">Новая игра</button>
        </div>
    </div>
    
    <!-- Окно статистики и достижений -->
    <div class="stats-modal" id="stats-modal">
        <div class="stats-content">
            <div class="stats-header">
                <h2 class="stats-title" id="stats-title-text">Достижения</h2>
                <button class="close-stats" id="close-stats">✕</button>
            </div>
            
            <div class="player-info">
                <div class="name-input-group">
                    <label for="player-name" id="player-name-label">Имя игрока:</label>
                    <input type="text" id="player-name" maxlength="20" placeholder="Введите ваше имя">
                    <button id="save-name">Сохранить</button>
                </div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-item">
                    <div id="best-score-label">Лучший счет:</div>
                    <div class="stat-value" id="best-score">0</div>
                </div>
                <div class="stat-item">
                    <div id="total-games-label">Всего игр:</div>
                    <div class="stat-value" id="total-games">0</div>
                </div>
                <div class="stat-item">
                    <div id="total-lines-label">Всего линий:</div>
                    <div class="stat-value" id="total-lines">0</div>
                </div>
                <div class="stat-item">
                    <div id="unlocked-achievements-label">Разблокировано достижений:</div>
                    <div class="stat-value" id="unlocked-achievements">0/11</div>
                </div>
            </div>
            
            <div class="achievements-section">
                <div class="achievements-list" id="achievements-list">
                    <!-- Достижения будут добавляться динамически -->
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://yandex.ru/games/sdk/v2"></script>
    <script src="script.js"></script>
</body>
</html>